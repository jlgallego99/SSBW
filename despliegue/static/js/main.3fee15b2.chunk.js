(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(48),o=n.n(l),c=(n(60),n(28)),i=n(9),m=n(155),u=n(166),s=n(169),h=n(170),d=n(168),f=n(180),E=n(181);function p(){return a.createElement(u.a,{sx:{position:"absolute",top:0,left:0,right:0,overflow:"hidden",height:"8vh"}},a.createElement(f.a,{sx:{height:"8vh"}},a.createElement(E.a,null,a.createElement(d.a,{component:c.b,to:"/",underline:"none",color:"inherit"},a.createElement(s.a,{variant:"h4"},"Personas Falsas")))))}var g=n(182),b=n(84),v={position:"fixed",right:0,bottom:"10vh",marginRight:2};function x(e){var t=Object(i.f)();return a.createElement(g.a,{sx:v,color:"primary","aria-label":"add",onClick:function(){t("/crear")}},a.createElement(b.a,null))}function j(){return a.createElement(s.a,{variant:"body2",color:"text.secondary"},"Copyright \xa9 ",a.createElement(d.a,{color:"inherit",href:"https://github.com/jlgallego99"},"Jose Luis Gallego Pe\xf1a")," ",(new Date).getFullYear(),".")}function O(){return a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},a.createElement(p,null),a.createElement(m.a,null),a.createElement(x,null),a.createElement(u.a,{component:"footer",sx:{py:1,mt:"auto",overflow:"hidden",position:"absolute",width:"100%",height:"8vh",bottom:0,left:0,right:0,backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[800]}}},a.createElement(h.a,{maxWidth:"sm"},a.createElement(s.a,{variant:"body1"},"M\xe1ster en Ingenier\xeda Inform\xe1tica (UGR)"),a.createElement(j,null))))}var w=n(15),y=n(171),S=n(173),C=n(172);function N(){var e=Object(i.g)().id,t=Object(a.useState)(!0),n=Object(w.a)(t,2),r=n[0],l=n[1],o=Object(a.useState)(null),c=Object(w.a)(o,2),m=c[0],u=c[1];if(Object(a.useEffect)(function(){l(!0),fetch("http://localhost:80/app/api/person/"+e).then(function(e){return e.json()}).then(function(e){u(e),l(!1)})},[]),r)return a.createElement(a.Fragment,null,a.createElement("h1",null,"Cargando..."));var d="http://localhost/"+m.image;return a.createElement(h.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10vh"}},a.createElement(y.a,{sx:{margin:"5vh",width:"auto"}},a.createElement(C.a,{component:"img",height:"300vh",image:d,alt:"Persona"}),a.createElement(S.a,{sx:{}},a.createElement(s.a,{gutterBottom:!0,variant:"h5",component:"div"},m.firstName," ",m.lastName," (",m.gender,")"),a.createElement(s.a,{variant:"body2",color:"text.secondary"},m.email," - ",m.phone),a.createElement(s.a,{variant:"body2",color:"text.secondary"}))))}var F=n(175),P=n(179),k=n(178),T=n(174),z=n(176),D=n(177),I=n(167),V=n(184),q=n(85);function L(e){var t=Object(a.useState)(!0),n=Object(w.a)(t,2),r=n[0],l=n[1],o=Object(a.useState)(null),c=Object(w.a)(o,2),m=c[0],u=c[1],s=Object(i.f)(),h=function(){l(!0),fetch("http://localhost:80/app/api/person/").then(function(e){return e.json()}).then(function(e){u(e),l(!1)})};Object(a.useEffect)(h,[]);return r?a.createElement(a.Fragment,null,a.createElement("h1",null,"Cargando...")):a.createElement(T.a,{component:I.a,sx:{position:"absolute",top:"8vh",bottom:"8vh",left:0,right:0,overflow:"auto"}},a.createElement(F.a,{sx:{height:"max-content"},"aria-label":"simple table"},a.createElement(z.a,null,a.createElement(D.a,null,a.createElement(k.a,{align:"center",sx:{fontSize:"x-large"}},a.createElement("strong",null,"First Name")),a.createElement(k.a,{align:"center",sx:{fontSize:"x-large"}},a.createElement("strong",null,"Last Name")),a.createElement(k.a,{align:"center",sx:{fontSize:"x-large"}},a.createElement("strong",null,"Email")),a.createElement(k.a,{align:"center",sx:{fontSize:"x-large"}},a.createElement("strong",null,"Phone")),a.createElement(k.a,{align:"center"}))),a.createElement(P.a,null,m.map(function(e,t){return a.createElement(D.a,{key:t,sx:{"&:last-child td, &:last-child th":{border:0},cursor:"pointer"},onClick:function(){return t=e.id,void s("/persona/".concat(t));var t},hover:!0},a.createElement(k.a,{align:"center",component:"th",scope:"person"},e.firstName),a.createElement(k.a,{align:"center"},e.lastName),a.createElement(k.a,{align:"center"},e.email),a.createElement(k.a,{align:"center"},e.phone),a.createElement(k.a,{align:"left"},a.createElement(V.a,{color:"error",component:"span",onClick:function(t){return function(e,t){e.stopPropagation(),fetch("http://localhost:80/app/api/person/"+t,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){e.deleted&&(h(),console.log("deletado"))})}(t,e.id)}},a.createElement(q.a,null))))}))))}var B=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,158)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),l(e),o(e)})},J=n(73),R=n(160),G=n(159),M=n(162),A=n(165);function U(){var e=Object(J.b)({reValidateMode:"onBlur"}),t=e.control,n=e.handleSubmit,r=Object(a.useState)(!1),l=Object(w.a)(r,2),o=l[0],c=l[1],m=Object(i.f)();return a.createElement(u.a,{component:"form",onSubmit:n(function(e){console.log(e),fetch("http://localhost:80/app/api/person/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){e.ok?(c(!1),m("/")):c(!0)})}),sx:{position:"absolute",top:"8vh",bottom:"8vh",left:0,right:0,overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center"}},a.createElement("h2",null,"Crear persona"),a.createElement(J.a,{name:"firstName",control:t,defaultValue:"",render:function(e){var t=e.field;return a.createElement(R.a,Object.assign({},t,{sx:{width:"25%",margin:"2vh"},required:!0,size:"medium",variant:"outlined",label:"Nombre"}))}}),a.createElement(J.a,{name:"lastName",control:t,defaultValue:"",render:function(e){var t=e.field;return a.createElement(R.a,Object.assign({},t,{sx:{width:"25%",margin:"2vh"},required:!0,size:"medium",variant:"outlined",label:"Apellidos"}))}}),a.createElement(J.a,{control:t,name:"gender",defaultValue:"male",render:function(e){var t=e.field;return a.createElement(G.a,Object.assign({},t,{sx:{width:"25%",margin:"2vh"}}),a.createElement(M.a,{value:"male"},"male"),a.createElement(M.a,{value:"female"},"female"))}}),a.createElement(J.a,{control:t,name:"email",defaultValue:"",rules:{required:!0,pattern:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/},render:function(e){var t=e.field;return a.createElement(R.a,Object.assign({},t,{sx:{width:"25%",margin:"2vh"},required:!0,type:"email",label:"Email"}))}}),a.createElement(J.a,{name:"phone",control:t,defaultValue:"",render:function(e){var t=e.field;return a.createElement(R.a,Object.assign({},t,{sx:{width:"25%",margin:"2vh"},required:!0,size:"medium",variant:"outlined",label:"Telefono"}))}}),o&&a.createElement("p",{style:{color:"red"}},"Error en el formulario"),a.createElement(A.a,{type:"submit",id:"imagenPersona",variant:"contained",sx:{margin:"2vh",marginTop:"5vh"}},"Submit"))}o.a.createRoot(document.getElementById("root")).render(r.a.createElement(c.a,null,r.a.createElement(O,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",element:r.a.createElement(L,null)}),r.a.createElement(i.a,{path:"/persona/:id",element:r.a.createElement(N,null)}),r.a.createElement(i.a,{path:"crear",element:r.a.createElement(U,null)})))),B()},52:function(e,t,n){e.exports=n(105)},60:function(e,t,n){}},[[52,3,2]]]);
//# sourceMappingURL=main.3fee15b2.chunk.js.map